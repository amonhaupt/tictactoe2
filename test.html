<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TicTacToe²</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="test.css">
    <link rel="icon" type="image/-icon" href="assets/favicon.ico">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:800&display=swap' rel='stylesheet'>
    <link rel="manifest" href="/tictactoe2/manifest.webmanifest">
    <meta name="mobile-web-app-capable" content="yes">
</head>
<body>
    <div class="center-container">
        <div class="game-header">
            <h1>TicTacToe²</h1>
        </div>
        <div class="game-container">
            <div class="square-container square-container-complete-x" id="square-container-0">
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
            </div>
            <div class="square-container square-container-complete-d" id="square-container-1">
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
            </div>
            <div class="square-container square-container-complete-o" id="square-container-2">
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
            </div>
            <div class="square-container" id="square-container-3">
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
            </div>
            <div class="square-container" id="square-container-4">
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
            </div>
            <div class="square-container" id="square-container-5">
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
            </div>
            <div class="square-container" id="square-container-6">
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
            </div>
            <div class="square-container" id="square-container-7">
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
                <button class="square square-disabled"></button>
            </div>
            <div class="square-container" id="square-container-8">
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
                <button class="square"></button>
            </div>
        </div>
        <div class="current-turn">O</div>
        <button class="game-over" id="new-game" onclick="resetGame()">NEW GAME</button>
        <button id="menu-button" class="menu-button" onclick="showMenu()">MENU</button>
        <div id="menu-container" class="menu-container">
            <div class="menu-item-container">
                <!-- <span class="close-menu">&times;</span>              -->
                <div class="button-container">
                    <button id="settings-button" class="settings-button" onclick="showSettings()">SETTINGS</button>
                    <div id="settings-content">
                        <div class="settings-item">
                            <input type="checkbox" id="theme-toggle" class="theme-toggle">
                            <label for="theme-toggle" class="theme-toggle-label"><span>TOGGLE THEME</span></label>  
                        </div>
                        <div class="settings-item" id="theme-radio-settings-item">
                            <label class="settings-label"><span>Select Theme</span></label>
                            <div id="theme-radio-list" class="theme-radio-list"></div>
                        </div>
                    </div>
                    <!-- <p class="game-over" id="game-over">game-over</p> -->
                    <button id="new-game" onclick="resetGame()">NEW GAME</button>
                    <button id="reset-game" onclick="resetGame()">RESET GAME</button>
                </div> 
            </div>   
        </div>
        
    </div>  
    <script src="test.js"></script>
     <script> 
        const standardPallete = {
            backgroundColor:      "#153448",
            textColor:            "#F7F7F7",
            menuButtonColor:      "#C9E4F7",
            squareBorder:         "#3c5b6f",
            lightSquareBorder:    "#C9E4F7",
            disabledSquareBorder: "rgba(201, 228, 247, 0.1)",
            colorO:               "#3498db",
            colorX:               "#ff6666"
        };

        const earthyPalette = {
            backgroundColor:      "#2E3D25",
            textColor:            "#F4F1DE",
            menuButtonColor:      "#A9CBB7",
            squareBorder:         "#556B2F",
            lightSquareBorder:    "#A9CBB7",
            disabledSquareBorder: "rgba(169, 203, 183, 0.1)",
            colorO:               "#8FBC8F",
            colorX:               "#D2691E"
        }

        const neonPalette = {
            backgroundColor:      "#181F38",
            textColor:            "#E0FFFA",
            menuButtonColor:      "#5DFDCB",
            squareBorder:         "#2C5364",
            lightSquareBorder:    "#5DFDCB",
            disabledSquareBorder: "rgba(93, 253, 203, 0.1)",
            colorO:               "#00B8A9",
            colorX:               "#FF2E63"
        }

        const sunsetPalette = {
            backgroundColor:      "#3B1F2B",
            textColor:            "#FFF8E7",
            menuButtonColor:      "#FFB677",
            squareBorder:         "#A23E48",
            lightSquareBorder:    "#FFB677",
            disabledSquareBorder: "rgba(255, 182, 119, 0.1)",
            colorO:               "#FF7043",
            colorX:               "#FFD166"
        }

        const pastelPalette = {
            backgroundColor:      "#DDE6ED",
            textColor:            "#2E3A59",
            menuButtonColor:      "#89CFF0",
            squareBorder:         "#7A9CC6",
            lightSquareBorder:    "#B0D0F0",
            disabledSquareBorder: "rgba(137, 207, 240, 0.2)",
            colorO:               "#4A90E2",
            colorX:               "#E94F37"
        }

        const retroArcadePalette = {
            backgroundColor:      "#22223B",
            textColor:            "#F2E9E4",
            menuButtonColor:      "#F26CA7",
            squareBorder:         "#4A4E69",
            lightSquareBorder:    "#F26CA7",
            disabledSquareBorder: "rgba(242, 108, 167, 0.1)",
            colorO:               "#38B6FF",
            colorX:               "#FFDE59"
        }

        const forestNightPalette = {
            backgroundColor:      "#232D23",
            textColor:            "#D6E5E3",
            menuButtonColor:      "#7CA982",
            squareBorder:         "#3C5A3A",
            lightSquareBorder:    "#7CA982",
            disabledSquareBorder: "rgba(124, 169, 130, 0.1)",
            colorO:               "#A3C1AD",
            colorX:               "#D9853B"
        }

        const blackPalette = {
            backgroundColor:      "#000000",
            textColor:            "#FFFFFF",
            menuButtonColor:      "#333333",
            squareBorder:         "#555555",
            lightSquareBorder:    "#777777",
            disabledSquareBorder: "rgba(255, 255, 255, 0.1)",
            colorO:               "#00FFFF",
            colorX:               "#FF4500"
        }

        const whitePalette = {
            backgroundColor:      "#FFFFFF",
            textColor:            "#222222",
            menuButtonColor:      "#DDDDDD",
            squareBorder:         "#AAAAAA",
            lightSquareBorder:    "#EEEEEE",
            disabledSquareBorder: "rgba(34, 34, 34, 0.1)",
            colorO:               "#007ACC",
            colorX:               "#D9534F"
        }  
        let settingsShown = false;
        function showSettings() {
            if (settingsShown == false) {
                document.getElementById("settings-content").style.display = "block";
                document.getElementById("new-game").style.display = "none";
                document.getElementById("reset-game").style.display = "none";
                document.getElementById("settings-button").textContent = "CLOSE SETTINGS";
                settingsShown = true;
            } else {
                document.getElementById("settings-content").style.display = "none";
                document.getElementById("new-game").style.display = "block";
                document.getElementById("reset-game").style.display = "block";
                document.getElementById("settings-button").textContent = "SETTINGS";
                settingsShown = false;
            }
        }

        // Get the menu
        var menu = document.getElementById("menu-container");

        // Get the button that opens the modal
        var menuButton = document.getElementById("menu-button");

        // Get the <span> element that closes the modal
        // var span = document.getElementsByClassName("close-menu")[0];

        // When the user clicks on the button, open the modal
        menuButton.onclick = function() {
        menu.style.display = "block";
        }

        // // When the user clicks on <span> (x), close the menu
        // span.onclick = function() {
        //   menu.style.display = "none";
        // }

        // When the user clicks anywhere outside of the menu, close it
        window.onclick = function(event) {
            if (event.target == menu) {
                menu.style.display = "none";
            }
                
            if (event.target.matches(".button-container") || event.target.matches(".menu-item-container")) {
                document.getElementById("settings-content").style.display = "none";
                document.getElementById("new-game").style.display = "block";
                document.getElementById("reset-game").style.display = "block";
                document.getElementById("settings-button").textContent = "SETTINGS";
                settingsShown = false;
            }
        } 

        const toggle = document.getElementById('theme-toggle');

        const savedTheme = localStorage.getItem('highContrast');
        if (savedTheme) {
        document.documentElement.style.colorScheme = savedTheme;
        toggle.checked = savedTheme === 'dark';
        }

        toggle.addEventListener('change', () => {
            const theme = toggle.checked ? 'dark' : 'light';
            document.documentElement.style.colorScheme = theme;
            localStorage.setItem('highContrast', theme); 
        });
        const activeColorPallete = standardPallete;
        const palettes = {
            standardPallete,
            earthyPalette,
            neonPalette,
            sunsetPalette,
            pastelPalette,
            retroArcadePalette,
            forestNightPalette,
            blackPalette,
            whitePalette
        };
        
        const colorPalletes = [
            { id: "standardPallete", label: "Standard" },
            { id: "earthyPalette", label: "Earthy" },
            { id: "neonPalette", label: "Neon" },
            { id: "sunsetPalette", label: "Sunset" },
            { id: "pastelPalette", label: "Pastel" },
            { id: "retroArcadePalette", label: "Retro Arcade" },
            { id: "forestNightPalette", label: "Forest Night" },
            { id: "blackPalette", label: "Black" },
            { id: "whitePalette", label: "White" }
        ];

        const radioList = document.getElementById('theme-radio-list');
        colorPalletes.forEach((palette, i) => {
            const label = document.createElement('label');
            label.className = 'theme-radio-label';
        
            const input = document.createElement('input');
            input.type = 'radio';
            input.name = 'theme-selection';
            input.value = palette.id;
            input.id = `theme-radio-${palette.id}`;
            if (i === 0) input.checked = true;
        
            const span = document.createElement('span');
            span.textContent = palette.label;
        
            label.appendChild(input);
            label.appendChild(span);
            radioList.appendChild(label);
        });

        const themeRadios = document.querySelectorAll('input[name="theme-selection"]');

        themeRadios.forEach(radio => {
            radio.addEventListener('change', function() {
            if (this.checked) {
                document.documentElement.style.setProperty('--backgroundColor', palettes[this.value].backgroundColor);
                document.documentElement.style.setProperty('--textColor', palettes[this.value].textColor);
                document.documentElement.style.setProperty('--menuButtonColor', palettes[this.value].menuButtonColor);
                document.documentElement.style.setProperty('--squareBorder', palettes[this.value].squareBorder);
                document.documentElement.style.setProperty('--lightSquareBorder', palettes[this.value].lightSquareBorder);
                document.documentElement.style.setProperty('--disabledSquareBorder', palettes[this.value].disabledSquareBorder);
                document.documentElement.style.setProperty('--colorO', palettes[this.value].colorO);
                document.documentElement.style.setProperty('--colorX', palettes[this.value].colorX);
            }
            });
        });
     </script>
</body>
</html>